     1                                 %line 1+1 ast04.asm
     2                                 
     3                                 
     4                                 
     5                                 
     6                                 [section .data]
     7                                 
     8                                 
     9                                 
    10                                 
    11                                 NULL equ 0
    12                                 
    13                                 TRUE equ 1
    14                                 FALSE equ 0
    15                                 
    16                                 EXIT_SUCCESS equ 0
    17                                 
    18                                 SYS_exit equ 60
    19                                 
    20                                 
    21                                 
    22 00000000 DE0400005C04000006-    lst dd 1246, 1116, 1542, 1240, 1677
    23 00000000 060000D80400008D06-
    24 00000000 0000               
    25 00000014 630600007A0900001C-     dd 1635, 2426, 1820, 1246, -2333
    26 00000014 070000DE040000E3F6-
    27 00000014 FFFF               
    28 00000028 0D090000A5FBFFFFA6-     dd 2317, -1115, 2726, 2140, 2565
    29 00000028 0A00005C080000050A-
    30 00000028 0000               
    31 0000003C 370B00004E06000072-     dd 2871, 1614, 2418, 2513, 1422
    32 0000003C 090000D10900008E05-
    33 0000003C 0000               
    34 00000050 B9F7FFFFBF0400000B-     dd -2119, 1215, -1525, -1712, 1441
    35 00000050 FAFFFF50F9FFFFA105-
    36 00000050 0000               
    37 00000064 DAF1FFFF25FDFFFF3F-     dd -3622, -731, -1729, 1615, 1724
    38 00000064 F9FFFF4F060000BC06-
    39 00000064 0000               
    40 00000078 C104000038FBFFFF2C-     dd 1217, -1224, 1580, 1147, 2324
    41 00000078 0600007B0400001409-
    42 00000078 0000               
    43 0000008C 9105000018070000EE-     dd 1425, 1816, 1262, -2718, 2192
    44 0000008C 04000062F5FFFF9008-
    45 0000008C 0000               
    46 000000A0 68FAFFFFD3040000CC-     dd -1432, 1235, 2764, -1615, 1310
    47 000000A0 0A0000B1F9FFFF1E05-
    48 000000A0 0000               
    49 000000B4 E5060000A207000039-     dd 1765, 1954, -967, 1515, 3556
    50 000000B4 FCFFFFEB050000E40D-
    51 000000B4 0000               
    52 000000C8 3E050000991C000014-     dd 1342, 7321, 1556, 2727, 1227
    53 000000C8 060000A70A0000CB04-
    54 000000C8 0000               
    55 000000DC 79F8FFFF66050000B9-     dd -1927, 1382, 1465, 3955, 1435
    56 000000DC 050000730F00009B05-
    57 000000DC 0000               
    58 000000F0 37FBFFFF8DF6FFFF1A-     dd -1225, -2419, -2534, -1345, 2467
    59 000000F0 F6FFFFBFFAFFFFA309-
    60 000000F0 0000               
    61 00000104 23050000A907000037-     dd 1315, 1961, 1335, 2856, 2553
    62 00000104 050000280B0000F909-
    63 00000104 0000               
    64 00000118 F8FBFFFF2B070000B8-     dd -1032, 1835, 1464, 1915, -1810
    65 00000118 0500007B070000EEF8-
    66 00000118 FFFF               
    67 0000012C B9050000120600000D-     dd 1465, 1554, -1267, 1615, 1656
    68 0000012C FBFFFF4F0600007806-
    69 0000012C 0000               
    70 00000140 90080000DFF8FFFF85-     dd 2192, -1825, 1925, 2312, 1725
    71 00000140 07000008090000BD06-
    72 00000140 0000               
    73 00000154 2BF6FFFFDA05000073-     dd -2517, 1498, -1677, 1475, 2034
    74 00000154 F9FFFFC3050000F207-
    75 00000154 0000               
    76 00000168 C70400005B0700006B-     dd 1223, 1883, -1173, 1350, 1415
    77 00000168 FBFFFF460500008705-
    78 00000168 0000               
    79 0000017C 4F010000650400005E-     dd 335, 1125, 1118, 1713, 3025
    80 0000017C 040000B1060000D10B-
    81 0000017C 0000               
    82 00000190 64000000               len dd 100
    83                                 
    84 00000194 00000000               lstMin dd 0
    85 00000198 00000000               lstMid dd 0
    86 0000019C 00000000               lstMax dd 0
    87 000001A0 00000000               lstSum dd 0
    88 000001A4 00000000               lstAve dd 0
    89                                 
    90 000001A8 00000000               posCnt dd 0
    91 000001AC 00000000               posSum dd 0
    92 000001B0 00000000               posAve dd 0
    93                                 
    94 000001B4 00000000               threeCnt dd 0
    95 000001B8 00000000               threeSum dd 0
    96 000001BC 00000000               threeAve dd 0
    97 000001C0 03000000               three dd 3
    98                                 
    99                                 
   100                                 [section .text]
   101                                 [global _start]
   102                                 _start:
   103                                 
   104                                 
   105                                 
   106                                 
   107 00000000 49C7C2[00000000]        mov r10, lst
   108                                 
   109                                 
   110                                 
   111 00000007 48C7C200000000          mov rdx, 0
   112                                 
   113                                 
   114 0000000E C70425[00000000]00-     mov dword[lstSum], 0
   115 0000000E 000000             
   116 00000019 48C7C600000000          mov rsi, 0
   117 00000020 8B3425[00000000]        mov esi, dword[len]
   118                                 
   119                                 
   120                                 sumLoop:
   121 00000027 418B12                  mov edx, dword[r10]
   122 0000002A 011425[00000000]        add dword[lstSum], edx
   123 00000031 4983C204                add r10, 4
   124 00000035 FFCE                    dec esi
   125                                 
   126 00000037 83FE00                  cmp esi, 0
   127 0000003A 75E9                    jne sumLoop
   128                                 
   129                                 
   130                                 
   131                                 
   132                                 
   133 0000003C 48C7C7[00000000]        mov rdi, lst
   134                                 
   135                                 
   136 00000043 48C7C600000000          mov rsi, 0
   137                                 
   138                                 
   139 0000004A 49C7C000000000          mov r8, 0
   140 00000051 448B0425[00000000]      mov r8d, dword[len]
   141                                 
   142                                 
   143 00000059 8B37                    mov esi, dword[rdi]
   144 0000005B 893425[00000000]        mov dword[lstMin], esi
   145                                 
   146                                 
   147                                 minLoop:
   148 00000062 8B37                    mov esi, dword[rdi]
   149 00000064 393425[00000000]        cmp dword[lstMin], esi
   150 0000006B 7E05                    jle minDone
   151 0000006D 893425[00000000]        mov dword[lstMin], esi
   152                                 minDone:
   153 00000074 4883C704                add rdi, 4
   154 00000078 41FFC8                  dec r8d
   155 0000007B 4183F800                cmp r8d, 0
   156 0000007F 75DF                    jne minLoop
   157                                 
   158                                 
   159                                 
   160                                 
   161                                 
   162 00000081 49C7C0[00000000]        mov r8, lst
   163                                 
   164                                 
   165 00000088 48C7C700000000          mov rdi, 0
   166 0000008F 8B3C25[00000000]        mov edi, dword[len]
   167                                 
   168                                 
   169                                 
   170 00000096 48C7C600000000          mov rsi, 0
   171 0000009D 418B30                  mov esi, dword[r8]
   172 000000A0 893425[00000000]        mov dword[lstMax], esi
   173                                 
   174                                 
   175                                 maxLoop:
   176 000000A7 418B30                  mov esi, dword[r8]
   177 000000AA 393425[00000000]        cmp dword[lstMax], esi
   178 000000B1 7D05                    jge maxDone
   179 000000B3 893425[00000000]        mov dword[lstMax], esi
   180                                 maxDone:
   181 000000BA 4983C004                add r8, 4
   182 000000BE FFCF                    dec edi
   183 000000C0 83FF00                  cmp edi, 0
   184 000000C3 75E0                    jne maxLoop
   185                                 
   186                                 
   187                                 
   188 000000C5 48C7C100000000          mov rcx, 0
   189 000000CC 8B0C25[00000000]        mov ecx, dword[len]
   190                                 
   191 000000D3 49C7C000000000          mov r8, 0
   192 000000DA 41B802000000            mov r8d, 2
   193 000000E0 49C7C100000000          mov r9, 0
   194 000000E7 49C7C200000000          mov r10, 0
   195                                 
   196                                 
   197 000000EE 8B0425[00000000]        mov eax, dword[len]
   198 000000F5 BA00000000              mov edx, 0
   199 000000FA 41F7F0                  div r8d
   200                                 
   201 000000FD 4189C2                  mov r10d, eax
   202                                 
   203                                 
   204                                 
   205 00000100 67468B0C95[00000000]      mov r9d, dword[lst+r10d*4]
   206 00000109 41FFCA                  dec r10d
   207 0000010C 6746030C95[00000000]      add r9d, dword[lst+r10d*4]
   208 00000115 4489C8                  mov eax, r9d
   209 00000118 41F7F0                  div r8d
   210 0000011B 890425[00000000]        mov dword[lstMid], eax
   211                                 
   212                                 
   213                                 
   214 00000122 8B3C25[00000000]        mov edi, dword[len]
   215 00000129 8B0425[00000000]        mov eax, dword[lstSum]
   216 00000130 99                      cdq
   217 00000131 F7FF                    idiv edi
   218 00000133 890425[00000000]        mov dword[lstAve], eax
   219                                 
   220                                 
   221                                 
   222                                 
   223 0000013A 49C7C0[00000000]        mov r8, lst
   224 00000141 48C7C600000000          mov rsi, 0
   225 00000148 48C7C100000000          mov rcx, 0
   226 0000014F 8B0C25[00000000]        mov ecx, dword[len]
   227                                 
   228                                 posSumLp:
   229 00000156 418B30                  mov esi, dword[r8]
   230 00000159 83FE00                  cmp esi, 0
   231 0000015C 7C0C                    jl notPositive
   232 0000015E 013425[00000000]        add dword[posSum], esi
   233 00000165 FF0425[00000000]        inc dword[posCnt]
   234                                 notPositive:
   235 0000016C 4983C004                add r8, 4
   236 00000170 FFC9                    dec ecx
   237 00000172 83F900                  cmp ecx, 0
   238 00000175 75DD                    jne posSumLp
   239                                 
   240                                 
   241                                 
   242 00000177 8B0425[00000000]        mov eax, dword[posSum]
   243 0000017E 99                      cdq
   244 0000017F F73C25[00000000]        idiv dword[posCnt]
   245 00000186 890425[00000000]        mov dword[posAve], eax
   246                                 
   247                                 
   248                                 
   249 0000018D 49C7C0[00000000]        mov r8, lst
   250 00000194 48C7C600000000          mov rsi, 0
   251 0000019B 48C7C000000000          mov rax, 0
   252 000001A2 48C7C700000000          mov rdi, 0
   253 000001A9 8B3C25[00000000]        mov edi, dword[len]
   254                                 
   255                                 threeLp:
   256 000001B0 418B30                  mov esi, dword[r8]
   257 000001B3 89F0                    mov eax, esi
   258 000001B5 99                      cdq
   259 000001B6 F73C25[00000000]        idiv dword[three]
   260 000001BD 83FA00                  cmp edx, 0
   261 000001C0 750C                    jne notThree
   262 000001C2 013425[00000000]        add dword[threeSum], esi
   263 000001C9 FF0425[00000000]        inc dword[threeCnt]
   264                                 notThree:
   265 000001D0 4983C004                add r8, 4
   266 000001D4 FFCF                    dec edi
   267 000001D6 83FF00                  cmp edi, 0
   268 000001D9 75D3                    jne threeLp
   269                                 
   270                                 
   271 000001DB 8B0425[00000000]        mov eax, dword[threeSum]
   272 000001E2 99                      cdq
   273 000001E3 F73C25[00000000]        idiv dword[threeCnt]
   274 000001EA 890425[00000000]        mov dword[threeAve], eax
   275                                 
   276                                 last:
   277 000001F1 48C7C03C000000          mov rax, SYS_exit
   278 000001F8 48C7C700000000          mov rdi, EXIT_SUCCESS
   279 000001FF 0F05                    syscall
